# ValueScope - å®Œå…¨å®Ÿè£…ä»•æ§˜æ›¸ï¼ˆAIå†ç¾ç”¨ï¼‰

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… Production Ready
**ãƒ‡ãƒ—ãƒ­ã‚¤URL**: https://j1921604.github.io/ValueScope/
**GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/J1921604/ValueScope
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**æœ€çµ‚æ›´æ–°**: 2025-12-15

**é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
- [æ†²æ³•](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/constitution.md)
- [æ©Ÿèƒ½ä»•æ§˜æ›¸](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/spec.md)
- [å®Ÿè£…è¨ˆç”»æ›¸](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/plan.md)
- [ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/tasks.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/data-model.md)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/quickstart.md)
- [æŠ€è¡“èª¿æŸ»](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/research.md)

---

## ğŸ¯ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦

ã“ã®ä»•æ§˜æ›¸ã¯ã€**ä»–ã®AIãŒå®Œç’§ã«å†ç¾ã§ãã‚‹**ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸå®Œå…¨ãªå®Ÿè£…ä»•æ§˜æ›¸ã§ã™ã€‚
ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã€è¨­å®šã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
4. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
5. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](#ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
6. [ç’°å¢ƒæ§‹ç¯‰æ‰‹é †](#ç’°å¢ƒæ§‹ç¯‰æ‰‹é †)
7. [æ©Ÿèƒ½å®Ÿè£…è©³ç´°](#æ©Ÿèƒ½å®Ÿè£…è©³ç´°)
8. [ãƒ†ã‚¹ãƒˆä»•æ§˜](#ãƒ†ã‚¹ãƒˆä»•æ§˜)
9. [ãƒ‡ãƒ—ãƒ­ã‚¤ä»•æ§˜](#ãƒ‡ãƒ—ãƒ­ã‚¤ä»•æ§˜)
10. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶](#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶)
11. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç›®çš„

æ±äº¬é›»åŠ›HDãƒ»ä¸­éƒ¨é›»åŠ›ãƒ»JERAã®ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™ï¼ˆEVã€EV/EBITDAã€PERã€PBRï¼‰ã¨é›»åŠ›æ¥­ç•Œç‰¹åŒ–KPIï¼ˆROICã€WACCã€EBITDAãƒãƒ¼ã‚¸ãƒ³ã€FCFãƒãƒ¼ã‚¸ãƒ³ï¼‰ã‚’å¯è¦–åŒ–ã—ã€**ä¿¡å·æ©Ÿæ–¹å¼ï¼ˆç·‘/é»„/èµ¤ï¼‰**ã§è²¡å‹™å¥å…¨æ€§ã‚’è©•ä¾¡ã™ã‚‹ä¼æ¥­ä¾¡å€¤åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

- âœ… **ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™è¡¨ç¤º**: EVã€EV/EBITDAã€PERã€PBRã€æ™‚ä¾¡ç·é¡ã€ç´”æœ‰åˆ©å­è² å‚µ
- âœ… **KPIã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰**: ROICã€WACCã€EBITDAãƒãƒ¼ã‚¸ãƒ³ã€FCFãƒãƒ¼ã‚¸ãƒ³ã®ä¿¡å·æ©Ÿè©•ä¾¡ï¼ˆç·‘â‰¥é–¾å€¤Aã€é»„â‰¥é–¾å€¤Bã€èµ¤<é–¾å€¤Bï¼‰
- âœ… **é›»åŠ›æ¥­ç•Œç‰¹åŒ–æŒ‡æ¨™**: è¨­å‚™æŠ•è³‡å‹ç”£æ¥­ã®ç‰¹æ€§ã‚’åæ˜ ã—ãŸè³‡æœ¬åŠ¹ç‡ãƒ»è³‡é‡‘èª¿é”ã‚³ã‚¹ãƒˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰µå‡ºåŠ›ã®è©•ä¾¡
- âœ… **å¾“æ¥­å“¡æƒ…å ±ãƒšãƒ¼ã‚¸**: å¹³å‡å¹´é–“çµ¦ä¸ã€å¹³å‡å‹¤ç¶šå¹´æ•°ã€å¹³å‡å¹´é½¢ã€å¾“æ¥­å“¡æ•°ã®æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«ã¨æ¨ç§»ã‚°ãƒ©ãƒ•
- âœ… **ã‚°ãƒ©ãƒ•æ§˜å¼çµ±ä¸€**: å…¨ãƒãƒ£ãƒ¼ãƒˆã§çµ±ä¸€æ§˜å¼ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼šä¸­å¤®ã€æ¨ªè»¸ï¼šFYå¹´åº¦ã€ç¸¦è»¸ï¼šæ•°å€¤ã€è£œåŠ©ç·šï¼šç¸¦æ¨ªã‚°ãƒªãƒƒãƒ‰ï¼‰
- âœ… **UIãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚¿ã‚¤ãƒˆãƒ«ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚°ãƒªãƒ¼ãƒ³â†’ãƒã‚¼ãƒ³ã‚¿ï¼‰ã€EV/KPIåˆ†æãƒœã‚¿ãƒ³ï¼ˆãƒã‚¼ãƒ³ã‚¿åŸºèª¿ï¼‰ã€è²¡å‹™è«¸è¡¨ãƒœã‚¿ãƒ³ï¼ˆã‚·ã‚¢ãƒ³åŸºèª¿ï¼‰
- âœ… **ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—**: EVåˆ†æãƒ†ãƒ¼ãƒ–ãƒ«ã«?ãƒãƒ¼ã‚¯ãƒ’ãƒ³ãƒˆè¿½åŠ 
- âœ… **ãƒ•ãƒƒã‚¿**: æœ€çµ‚æ›´æ–°æ—¥æ™‚ï¼ˆå¹´æœˆæ—¥æ™‚åˆ†ï¼‰ã€æ¬¡å›æ›´æ–°äºˆå®šï¼ˆæ¯æ—¥ 07:00ï¼‰è¡¨ç¤º
- âœ… **EDINET APIé€£æº**: 10å¹´åˆ†ã®è²¡å‹™ãƒ‡ãƒ¼ã‚¿è‡ªå‹•å–å¾—ï¼ˆTEPCO 34ä»¶ã€CHUBU 36ä»¶ã€JERA 16ä»¶ï¼‰
- âœ… **æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿**: Q1/Q2/Q3/Q4/Annualåˆ‡ã‚Šæ›¿ãˆï¼ˆUIå®Ÿè£…å®Œäº†ã€è¤‡æ•°æœŸãƒ‡ãƒ¼ã‚¿çµ±åˆå¾…ã¡ï¼‰
- âœ… **æ¨ç§»ã‚°ãƒ©ãƒ•**: æ™‚ç³»åˆ—ãƒãƒ£ãƒ¼ãƒˆï¼ˆåŸºç›¤å®Œäº†ã€è¤‡æ•°æœŸãƒ‡ãƒ¼ã‚¿å¾…ã¡ï¼‰
- âœ… **ãƒ‡ãƒ¼ã‚¿å“è³ªæ¤œè¨¼**: ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã€ç•°å¸¸å€¤æ¤œå‡º
- âœ… **GitHub Pagesè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: main pushã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰&ãƒ‡ãƒ—ãƒ­ã‚¤

### æ†²æ³•ï¼ˆé–‹ç™ºåŸå‰‡ï¼‰

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [æ†²æ³•](https://github.com/J1921604/ValueScope/blob/main/specs/001-ValueScope/constitution.md) ã§å®šç¾©ã•ã‚ŒãŸ7ã¤ã®ã‚³ã‚¢åŸå‰‡ã«æº–æ‹ ã—ã¾ã™ã€‚

**7ã¤ã®ã‚³ã‚¢åŸå‰‡**:

1. **ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰ã‚’å¾¹åº•ã—ã€ä»•æ§˜ã«å¯¾ã™ã‚‹æ¤œè¨¼ã‚’å¿…é ˆã¨ã™ã‚‹**
2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã‚’æ©Ÿèƒ½è¦ä»¶ã‚ˆã‚Šå„ªå…ˆã™ã‚‹**
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é–¾å€¤ã‚’å®šé‡åŒ–ã—ã€å—å…¥åŸºæº–ã«çµ„ã¿è¾¼ã‚€**
4. **ãƒ‡ãƒ¼ã‚¿å“è³ªã®ä¿è¨¼ã¨å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ã®ä½¿ç”¨**
5. **API/ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä»•æ§˜ã®éµå®ˆã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å³å®ˆ**
6. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®ç¢ºä¿**
7. **ä»•æ§˜ã¨å®Ÿè£…ã®åˆ†é›¢ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã®ç¢ºç«‹**

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ (PR)**:

- PR-001: LCPï¼ˆLargest Contentful Paintï¼‰< 2.5ç§’
- PR-002: TTIï¼ˆTime to Interactiveï¼‰< 2.0ç§’
- PR-003: åˆæœŸãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º gzipå¾Œ < 200KB
- PR-004: ãƒãƒ£ãƒ¼ãƒˆå†æç”» < 200ms
- PR-005: Lighthouseã‚¹ã‚³ã‚¢ â‰¥ 90

**ãƒ‡ãƒ¼ã‚¿å“è³ªè¦ä»¶ (DQ)**:

- DQ-001: XBRL/CSVè§£æï¼ˆ2ç¤¾åˆ†ï¼‰< 60ç§’
- DQ-002: ä¼æ¥­ä¾¡å€¤è¨ˆç®—ï¼ˆå…¨æŒ‡æ¨™ï¼‰< 10ç§’
- DQ-003: ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ < 5ç§’
- DQ-004: ã‚¹ã‚­ãƒ¼ãƒé•åæ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­æ­¢

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ (SR)**:

- SR-001: EDINET APIã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ç®¡ç†ï¼ˆ.env â†’ GitHub Secretsï¼‰
- SR-002: å¤–éƒ¨å…¥åŠ›æ¤œè¨¼ï¼ˆXBRL/CSVãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- SR-003: ä¾å­˜é–¢ä¿‚è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆGitHub Dependabotï¼‰
- SR-004: CORSè¨­å®šä¸è¦ï¼ˆå®Œå…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè¡Œï¼‰

**ãƒ†ã‚¹ãƒˆè¦ä»¶ (TR)**:

- TR-001: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 80%
- TR-002: E2Eä¸»è¦ãƒ•ãƒ­ãƒ¼ 100%
- TR-003: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“ < 30ç§’

---

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆMermaid v11ï¼‰

```mermaid
graph TB
    subgraph "Data Source"
        EDINET[EDINET API v2<br/>é‡‘èåºXBRL]
    end
    
    subgraph "GitHub Actions CI/CD"
        FETCH[fetch_edinet.py<br/>--years 10]
        PARSE[parse_edinet_xbrl.py<br/>lxml + pandas]
        CALC[build_valuation.py<br/>ä¼æ¥­ä¾¡å€¤è¨ˆç®—]
        SCORE[compute_scores.py<br/>KPIã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°]
    end
    
    subgraph "Data Files"
        RAW[XBRL/*.zip]
        PARSED[data/edinet_parsed/<br/>*_financials.json]
        VAL[public/data/valuation.json]
        KPI[public/data/scorecards.json]
        THR[public/data/kpi_targets.json]
    end
    
    subgraph "Frontend"
        VITE[Vite Build<br/>React + TypeScript]
        DIST[dist/<br/>é™çš„ãƒ•ã‚¡ã‚¤ãƒ«]
    end
    
    subgraph "Hosting"
        PAGES[GitHub Pages<br/>CDNé…ä¿¡]
    end
    
    subgraph "User"
        BROWSER[ãƒ–ãƒ©ã‚¦ã‚¶<br/>https://j1921604.github.io/ValueScope/]
    end
    
    EDINET -->|HTTPS GET| FETCH
    FETCH --> RAW
    RAW --> PARSE
    PARSE --> PARSED
    PARSED --> CALC
    CALC --> VAL
    PARSED --> SCORE
    SCORE --> KPI
    THR --> SCORE
    
    VAL --> VITE
    KPI --> VITE
    THR --> VITE
    
    VITE --> DIST
    DIST -->|GitHub Actions<br/>deploy-pages| PAGES
    PAGES --> BROWSER
    
    style EDINET fill:#e3f2fd
    style PAGES fill:#c8e6c9
    style BROWSER fill:#fff9c4
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆMermaid v11ï¼‰

```mermaid
sequenceDiagram
    participant User
    participant Browser
    participant GitHubPages
    participant React
    participant Hooks
    participant JSON
    
    User->>Browser: https://j1921604.github.io/ValueScope/ ã«ã‚¢ã‚¯ã‚»ã‚¹
    Browser->>GitHubPages: index.html ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    GitHubPages-->>Browser: index.html + assets/*
    Browser->>React: App.tsx ãƒã‚¦ãƒ³ãƒˆ
    React->>Hooks: useValuation() å®Ÿè¡Œ
    Hooks->>JSON: data/valuation.json fetch
    JSON-->>Hooks: ä¼æ¥­ä¾¡å€¤ãƒ‡ãƒ¼ã‚¿
    Hooks->>React: setValuationData()
    React->>Hooks: useScores() å®Ÿè¡Œ
    Hooks->>JSON: data/scorecards.json fetch
    JSON-->>Hooks: KPIã‚¹ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿
    Hooks->>React: setScoresData()
    React->>Browser: UIæç”»ï¼ˆValuationTable + ScoreCardï¼‰
    Browser->>User: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º
```

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```json
{
  "framework": "React 18.2.0",
  "language": "TypeScript 5.3.3",
  "buildTool": "Vite 5.0.8",
  "chartLibrary": "Recharts 2.10.3",
  "cssFramework": "Tailwind CSS 3.4.1"
}
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼‰

```json
{
  "runtime": "Python 3.11",
  "dataProcessing": "pandas 2.1.4",
  "xmlParsing": "lxml 5.2.1",
  "htmlParsing": "beautifulsoup4 4.12.3",
  "httpClient": "requests 2.31.0",
  "stockPriceAPI": "pandas_datareader 0.10.0 (Stooq)"
}
```

### ãƒ†ã‚¹ãƒˆ

```json
{
  "unitTest": "Vitest 1.1.0",
  "e2eTest": "Playwright 1.40.1",
  "testLibrary": "@testing-library/react 14.1.2"
}
```

### ãƒ‡ãƒ—ãƒ­ã‚¤

- **GitHub Pages**: é™çš„ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆhttps://j1921604.github.io/ValueScope/ï¼‰
- **GitHub Actions**: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆ.github/workflows/deploy-pages.ymlï¼‰

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
ValueScope/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy-pages.yml           # CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx                        # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ main.tsx                       # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ index.css                      # Tailwindè¨­å®š
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ValuationTable.tsx         # ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”‚   â”œâ”€â”€ ScoreCard.tsx              # KPIã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ TrendChart.tsx             # æ¨ç§»ã‚°ãƒ©ãƒ•
â”‚   â”‚   â””â”€â”€ KPIGauge.tsx               # KPIã‚²ãƒ¼ã‚¸ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useValuation.ts            # ä¼æ¥­ä¾¡å€¤ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ useScores.ts               # KPIã‚¹ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts                   # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ formatNumber.ts            # æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”‚       â””â”€â”€ formatDate.ts              # æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fetch_edinet.py                # EDINET APIãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚   â”œâ”€â”€ parse_edinet_xbrl.py           # XBRLè§£æ
â”‚   â”œâ”€â”€ build_valuation.py             # ä¼æ¥­ä¾¡å€¤è¨ˆç®—
â”‚   â”œâ”€â”€ compute_scores.py              # KPIã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ validate_thresholds.py         # ãƒ‡ãƒ¼ã‚¿å“è³ªæ¤œè¨¼
â”‚   â””â”€â”€ requirements.txt               # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ kpi_targets.json               # KPIé–¾å€¤å®šç¾©
â”‚   â”œâ”€â”€ scorecards.json                # KPIã‚¹ã‚³ã‚¢ï¼ˆç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”œâ”€â”€ valuation.json                 # ä¼æ¥­ä¾¡å€¤ï¼ˆç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â””â”€â”€ edinet_parsed/
â”‚       â”œâ”€â”€ TEPCO_financials.json      # TEPCOè²¡å‹™ãƒ‡ãƒ¼ã‚¿
â”‚       â”œâ”€â”€ CHUBU_financials.json      # CHUBUè²¡å‹™ãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ JERA_financials.json       # JERAè²¡å‹™ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ public/
â”‚   â””â”€â”€ data/                          # ãƒ“ãƒ«ãƒ‰å…¥åŠ›ç”¨ï¼ˆGitãƒˆãƒ©ãƒƒã‚¯æ¸ˆã¿ï¼‰
â”‚       â”œâ”€â”€ kpi_targets.json
â”‚       â”œâ”€â”€ scorecards.json
â”‚       â””â”€â”€ valuation.json
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ e2e/
â”‚       â”œâ”€â”€ scorecard-display.spec.ts  # E2Eãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ valuation-display.spec.ts
â”œâ”€â”€ XBRL/                              # EDINET XBRLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´
â”‚   â”œâ”€â”€ E04498/                        # TEPCOï¼ˆ34ä»¶ï¼‰
â”‚   â”œâ”€â”€ E04502/                        # CHUBUï¼ˆ36ä»¶ï¼‰
â”‚   â””â”€â”€ E34837/                        # JERAï¼ˆ16ä»¶ï¼‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ DEPLOY_GUIDE.md                # ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸
â”‚   â””â”€â”€ å®Œå…¨ä»•æ§˜æ›¸.md                  # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ specs/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ spec.md                    # æ©Ÿèƒ½ä»•æ§˜æ›¸
â”‚       â”œâ”€â”€ plan.md                    # å®Ÿè£…è¨ˆç”»æ›¸
â”‚       â”œâ”€â”€ tasks.md                   # ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
â”‚       â”œâ”€â”€ quickstart.md              # ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰
â”‚       â””â”€â”€ checklists/
â”‚           â””â”€â”€ requirements.md        # è¦ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
â”œâ”€â”€ package.json                       # NPMè¨­å®š
â”œâ”€â”€ tsconfig.json                      # TypeScriptè¨­å®š
â”œâ”€â”€ vite.config.ts                     # Viteè¨­å®š
â”œâ”€â”€ vitest.config.ts                   # Vitestè¨­å®š
â”œâ”€â”€ playwright.config.ts               # Playwrightè¨­å®š
â”œâ”€â”€ index.html                         # HTMLã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ start.ps1                          # ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md                          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆREADME
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### è²¡å‹™è«¸è¡¨CSVãƒ‡ãƒ¼ã‚¿ï¼ˆXBRL_output/ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:

è²¡å‹™3è¡¨ï¼ˆPL/BS/CFï¼‰ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã¯3ç¤¾åˆ†ã®XBRLãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æŠ½å‡ºã•ã‚Œã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®æ§‹é€ ã‚’æŒã¡ã¾ã™:

| è«¸è¡¨ | ä¼æ¥­ | CSVåˆ—æ•° | ãƒ¦ãƒ‹ãƒ¼ã‚¯é …ç›®æ•°ï¼ˆ3ç¤¾çµ±åˆï¼‰ | UIè¡¨ç¤ºé …ç›®æ•° |
|------|------|---------|-------------------------|--------------|
| **æç›Šè¨ˆç®—æ›¸ï¼ˆPLï¼‰** | TEPCO | 255åˆ— | 398é …ç›® | 256é …ç›® |
| | CHUBU | 255åˆ— | | |
| | JERA | 186åˆ— | | |
| **è²¸å€Ÿå¯¾ç…§è¡¨ï¼ˆBSï¼‰** | TEPCO | 232åˆ— | 273é …ç›® | 233é …ç›® |
| | CHUBU | 209åˆ— | | |
| | JERA | 116åˆ— | | |
| **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ï¼ˆCFï¼‰** | TEPCO | 69åˆ— | 118é …ç›® | 70é …ç›® |
| | CHUBU | 65åˆ— | | |
| | JERA | 60åˆ— | | |
| **åˆè¨ˆ** | - | - | **789é …ç›®** | **559é …ç›®** |

**è²¡å‹™3è¡¨ã®åŒåãƒ©ãƒ™ãƒ«ä¿®æ­£ï¼ˆ2025-12-15å®Ÿæ–½ï¼‰**:

`src/components/ComparisonFinancialTable.tsx`ã®fieldLabelMapå…¨552ã‚¨ãƒ³ãƒˆãƒªã«ãŠã„ã¦ã€61ç¨®é¡ã®åŒåæ—¥æœ¬èªãƒ©ãƒ™ãƒ«ï¼ˆè¨ˆ148ä»¶ï¼‰ã‚’åŒºåˆ¥å¯èƒ½ãªå…·ä½“çš„æ—¥æœ¬èªã«ä¿®æ­£ã—ã¾ã—ãŸã€‚

**ä¿®æ­£ã®èƒŒæ™¯**:
- XBRLã‚¿ã‚°ã¯è‹±èªã§ä¸€æ„ã ãŒã€æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ãŒåŒåã ã¨UIã§åˆ¤åˆ¥ä¸èƒ½
- ä¾‹: ã€Œå–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã€ãŒ3ç¨®é¡ï¼ˆè¨ˆç®—å€¤/ç´”é¡/å°è¨ˆï¼‰å­˜åœ¨ã—ã¦ã„ãŸãŒã€åŒºåˆ¥ä¸èƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè²¡å‹™3è¡¨ã‚’è¦‹ãŸéš›ã«ã€ã©ã®é …ç›®ã‹ä¸€ç›®ã§åŒºåˆ¥ã§ãã‚‹ã“ã¨ãŒé‡è¦
- ãƒ‡ãƒ¼ã‚¿ã®é€æ˜æ€§ã¨è¿½è·¡å¯èƒ½æ€§ã®å‘ä¸Šï¼ˆconstitution.mdåŸå‰‡IVæº–æ‹ ï¼‰

**ä¿®æ­£ä¾‹**:

| å…ƒã®ãƒ©ãƒ™ãƒ«                             | ä¿®æ­£å¾Œã®ãƒ©ãƒ™ãƒ«                                       | ä»¶æ•° | å½±éŸ¿ç¯„å›²   |
| -------------------------------------- | ---------------------------------------------------- | ---- | ---------- |
| ã€Œãã®ä»–ã€                             | ã€Œãã®ä»–ï¼ˆæœªåˆ†é¡ï¼‰ã€ã€ŒæŠ•è³‡ãã®ä»–ã®è³‡ç”£ã€             | 2ä»¶  | PL/BS/CF   |
| ã€Œå–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã€     | ã€Œï¼ˆè¨ˆç®—å€¤ï¼‰ã€ã€Œã€ã€Œï¼ˆç´”é¡ï¼‰ã€                       | 3ä»¶  | CF         |
| ã€ŒåŸå­åŠ›ã€                             | ã€ŒåŸå­åŠ›å»ƒç‚‰ä»®å‹˜å®šã€ã€ŒåŸå­åŠ›ç™ºé›»è¨­å‚™ã€ç­‰             | 5ä»¶  | BS         |
| ã€Œæ ªå¼ã€                               | ã€Œéä¸Šå ´æ ªå¼éŠ˜æŸ„æ•°ï¼ˆæ”¿ç­–ä¿æœ‰ãƒ»æœ€å¤§ä¿æœ‰ï¼‰ã€ç­‰         | 42ä»¶ | æœ‰ä¾¡è¨¼åˆ¸å ±å‘Šæ›¸ |
| ã€Œç´”è³‡ç”£ã€                             | ã€Œç´”è³‡ç”£åˆè¨ˆã€ã€Œï¼ˆæ¥­ç¸¾ã‚µãƒãƒªãƒ¼ï¼‰ã€ç­‰                 | 4ä»¶  | BS         |
| ã€Œå¸³ç°¿ä¾¡é¡ã€                           | ã€Œå¸³ç°¿ä¾¡é¡ï¼ˆæ”¿ç­–ä¿æœ‰ãƒ»éä¸Šå ´ï¼‰ã€ç­‰                   | 21ä»¶ | æœ‰ä¾¡è¨¼åˆ¸å ±å‘Šæ›¸ |
| ã€ŒEBITDAã€ã€ŒROICã€ã€ŒWACCã€ç­‰ã®è²¡å‹™æŒ‡æ¨™ | ã€ŒEBITDAï¼ˆå„„å††ï¼‰ã€ã€ŒROICï¼ˆç¨å¼•å¾Œè³‡æœ¬ã‚³ã‚¹ãƒˆæ§é™¤å¾Œï¼‰ã€ | 10ä»¶ | EVåˆ†æ     |

**ä¿®æ­£æ‰‹æ³•**:

1. **åŒåãƒ©ãƒ™ãƒ«æ¤œå‡º**: `scripts/find_duplicate_labels.py`
   - value_to_keysè¾æ›¸ã§ãƒ©ãƒ™ãƒ«å€¤â†’ã‚­ãƒ¼é…åˆ—ãƒãƒƒãƒ”ãƒ³ã‚°
   - 61ç¨®é¡ã®åŒåãƒ©ãƒ™ãƒ«ç‰¹å®šï¼ˆã€ŒåŸå­åŠ›ã€5ä»¶ã€ã€Œæ ªå¼ã€42ä»¶ç­‰ï¼‰

2. **ä¸€æ‹¬ä¿®æ­£**: `scripts/fix_duplicate_labels.py`
   - SPECIFIC_TRANSLATIONSè¾æ›¸: 148ä»¶ã®è‹±èªã‚­ãƒ¼â†’å…·ä½“çš„æ—¥æœ¬èªãƒãƒƒãƒ”ãƒ³ã‚°
   - æ­£è¦è¡¨ç¾ç½®æ›: `{key}: '[^']*',` â†’ `{key}: '{japanese}',`
   - ä¾‹: `OperatingCashFlow` â†’ `å–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ï¼ˆè¨ˆç®—å€¤ï¼‰`

3. **æ¤œè¨¼**:
   - E2Eãƒ†ã‚¹ãƒˆ29ä»¶å…¨æˆåŠŸï¼ˆPlaywrightï¼‰
   - ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆTypeScriptã‚¨ãƒ©ãƒ¼0ä»¶ï¼‰
   - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å‹•ä½œç¢ºèª

**XBRLãƒãƒƒãƒ”ãƒ³ã‚°**:
- `src/components/xbrlTagMap.ts`: 559é …ç›®ã‹ã‚‰é‡è¤‡æ’é™¤ã—ãŸ**488é …ç›®**ã®XBRLã‚¿ã‚°ãƒãƒƒãƒ”ãƒ³ã‚°
- å„è²¡å‹™é …ç›®ã¯ `jpcrp_cor:FieldName` å½¢å¼ã®XBRLã‚¿ã‚°ã«å¯¾å¿œ
- UIã«ã¯å…¨é …ç›®ã«ã€Œ?ã€ãƒãƒ¼ã‚¯ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’è¡¨ç¤ºã—ã€XBRLã‚¿ã‚°ã‚’ç¢ºèªå¯èƒ½

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**:
- `XBRL_output/TEPCO/PL.csv`, `BS.csv`, `CF.csv`
- `XBRL_output/CHUBU/PL.csv`, `BS.csv`, `CF.csv`
- `XBRL_output/JERA/PL.csv`, `BS.csv`, `CF.csv`

### ä¼æ¥­ä¾¡å€¤ãƒ‡ãƒ¼ã‚¿ï¼ˆvaluation.jsonï¼‰

```typescript
interface ValuationData {
  asOf: string;                    // ãƒ‡ãƒ¼ã‚¿åŸºæº–æ—¥ï¼ˆISO 8601å½¢å¼ï¼‰
  companies: {
    [key: string]: {
      marketCap: number;           // æ™‚ä¾¡ç·é¡ï¼ˆç™¾ä¸‡å††ï¼‰
      totalDebt: number;           // æœ‰åˆ©å­è² å‚µåˆè¨ˆï¼ˆç™¾ä¸‡å††ï¼‰
      cash: number;                // ç¾é‡‘åŠã³ç¾é‡‘åŒç­‰ç‰©ï¼ˆç™¾ä¸‡å††ï¼‰
      enterpriseValue: number;     // ä¼æ¥­ä¾¡å€¤ EVï¼ˆç™¾ä¸‡å††ï¼‰
      ebitda: number;              // EBITDAï¼ˆç™¾ä¸‡å††ï¼‰
      evEbitda: number;            // EV/EBITDAå€ç‡
      eps: number;                 // EPSï¼ˆå††ï¼‰
      per: number;                 // PERï¼ˆå€ï¼‰
      bps: number;                 // BPSï¼ˆå††ï¼‰
      pbr: number;                 // PBRï¼ˆå€ï¼‰
      dividendYield: number;       // é…å½“åˆ©å›ã‚Šï¼ˆ%ï¼‰
    };
  };
}
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«**:

- `asOf`: ISO 8601å½¢å¼ã®æœ‰åŠ¹ãªæ—¥ä»˜æ–‡å­—åˆ—
- æ•°å€¤ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: æ­£ã®æ•°å€¤ã€nullç¦æ­¢
- `companies`: TEPCOã€CHUBUã€JERAã‚’å«ã‚€

**ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿**:

```json
{
  "asOf": "2025-09-30",
  "companies": {
    "TEPCO": {
      "marketCap": 2000000,
      "totalDebt": 5000000,
      "cash": 500000,
      "enterpriseValue": 4322458,
      "ebitda": 279000,
      "evEbitda": 15.50,
      "eps": 120.5,
      "per": 9.27,
      "bps": 1500.0,
      "pbr": 0.71,
      "dividendYield": 2.5
    }
  }
}
```

### KPIã‚¹ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ï¼ˆscorecards.jsonï¼‰

```typescript
interface Score {
  value: number;                   // å®Ÿç¸¾å€¤
  score: 'green' | 'yellow' | 'red'; // ä¿¡å·æ©Ÿè©•ä¾¡
  change: number;                  // å‰æœŸæ¯”å¤‰å‹•ï¼ˆ%ï¼‰
}

interface Scorecard {
  asOf: string;                    // ãƒ‡ãƒ¼ã‚¿åŸºæº–æ—¥
  companies: {
    [company: string]: {
      [period: string]: {          // Q1, Q2, Q3, Q4, Annual
        date: string;              // æœŸæœ«æ—¥
        roic: Score;               // æŠ•ä¸‹è³‡æœ¬åˆ©ç›Šç‡ï¼ˆ%ï¼‰
        wacc: Score;               // åŠ é‡å¹³å‡è³‡æœ¬ã‚³ã‚¹ãƒˆï¼ˆ%ï¼‰
        ebitdaMargin: Score;       // EBITDAãƒãƒ¼ã‚¸ãƒ³ï¼ˆ%ï¼‰
        fcfMargin: Score;          // FCFãƒãƒ¼ã‚¸ãƒ³ï¼ˆ%ï¼‰
      };
      latest: {                    // æœ€æ–°æœŸãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        roic: Score;
        wacc: Score;
        ebitdaMargin: Score;
        fcfMargin: Score;
      };
    };
  };
}
```

**ä¿¡å·æ©Ÿè©•ä¾¡ãƒ«ãƒ¼ãƒ«ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ï¼‰**:

| KPI | ç·‘ï¼ˆgreenï¼‰ | é»„ï¼ˆyellowï¼‰ | èµ¤ï¼ˆredï¼‰ | èª¬æ˜ |
|-----|------------|--------------|-----------|------|
| ROIC | â‰¥5% | 3%-5% | <3% | æŠ•ä¸‹è³‡æœ¬åŠ¹ç‡ã€‚5%ä»¥ä¸Šã§å„ªè‰¯ï¼ˆé›»åŠ›æ¥­ç•ŒåŸºæº–ï¼‰ |
| WACC | <4% | 4%-5% | â‰¥5% | è³‡é‡‘èª¿é”ã‚³ã‚¹ãƒˆã€‚ä½ã„ã»ã©è‰¯ã„ï¼ˆé€†è»¢åˆ¤å®šï¼‰ |
| EBITDAãƒãƒ¼ã‚¸ãƒ³ | â‰¥15% | 10%-15% | <10% | å–¶æ¥­ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰µå‡ºåŠ›ã€‚15%ä»¥ä¸Šã§é«˜åç›Š |
| FCFãƒãƒ¼ã‚¸ãƒ³ | â‰¥5% | 0%-5% | <0% | ãƒ•ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼åŠ¹ç‡ã€‚5%ä»¥ä¸Šã§è‰¯å¥½ |

**maxå€¤è¨­å®šæ ¹æ‹ ï¼ˆé›»åŠ›ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¥­ç•Œï¼‰**:

- **ROIC max 15%**: è¨­å‚™æŠ•è³‡å‹ç”£æ¥­ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰ã®æ¥­ç•Œå¹³å‡7-10%ã€‚å®Ÿç¸¾æœ€å¤§å€¤13.84%ï¼ˆJERA 2022å¹´ï¼‰ã‚’è€ƒæ…®ã—ã€ä½™è£•ã‚’æŒãŸã›ã¦15%ã«è¨­å®šã€‚è¦åˆ¶ç”£æ¥­ã®ãŸã‚é«˜ROICã¯ç¨€ã€‚
- **WACC max 6%**: ä½é‡‘åˆ©ç’°å¢ƒãƒ»å®‰å®šäº‹æ¥­ç‰¹æ€§ã«ã‚ˆã‚Š3-5%ãŒä¸€èˆ¬çš„ã€‚6%è¶…ã¯è³‡é‡‘èª¿é”ã‚³ã‚¹ãƒˆé«˜ã¨åˆ¤æ–­ã€‚
- **EBITDAãƒãƒ¼ã‚¸ãƒ³ max 30%**: é›»åŠ›æ¥­ç•Œå¹³å‡15-25%ã€‚ç‡ƒæ–™è²»å¤‰å‹•å½±éŸ¿ãŒå¤§ãã„ãŸã‚ã€30%è¶…ã¯ä¾‹å¤–çš„ã€‚
- **FCFãƒãƒ¼ã‚¸ãƒ³ max 25%**: å¤§è¦æ¨¡è¨­å‚™æŠ•è³‡ã«ã‚ˆã‚Šå–¶æ¥­CFæ¯”ç‡10-15%ãŒæ¨™æº–ã€‚å®Ÿç¸¾æœ€å¤§å€¤21.88%ï¼ˆä¸­éƒ¨é›»åŠ› 2017å¹´ï¼‰ã‚’è€ƒæ…®ã—ã€ä½™è£•ã‚’æŒãŸã›ã¦25%ã«è¨­å®šã€‚

---

## XBRLã‚¿ã‚°å¯¾å¿œè¡¨ï¼ˆdocs/é‡è¦æŒ‡æ¨™.mdæº–æ‹ ï¼‰

### æç›Šè¨ˆç®—æ›¸ï¼ˆPLï¼‰é–¢é€£ã‚¿ã‚°

| æŒ‡æ¨™              | XBRLã‚¿ã‚°                                             | ã‚¹ã‚¯ãƒªãƒ—ãƒˆå¤‰æ•°å |
| --------------- | -------------------------------------------------- | ------------ |
| å£²ä¸Šé«˜ï¼ˆå–¶æ¥­åç›Šï¼‰       | `jpcrp_cor:OperatingRevenue`                       | revenue      |
| å–¶æ¥­åˆ©ç›Š            | `jpcrp_cor:OperatingIncome`                        | operatingIncome |
| çµŒå¸¸åˆ©ç›Š            | `jpcrp_cor:OrdinaryIncome`                         | ordinaryIncome |
| å½“æœŸç´”åˆ©ç›Š           | `jpcrp_cor:ProfitLoss`                             | netIncome    |
| è¦ªä¼šç¤¾æ ªä¸»ã«å¸°å±ã™ã‚‹å½“æœŸç´”åˆ©ç›Š | `jpcrp_cor:ProfitLossAttributableToOwnersOfParent` | netIncome (å„ªå…ˆ) |

### è²¸å€Ÿå¯¾ç…§è¡¨ï¼ˆBSï¼‰é–¢é€£ã‚¿ã‚°

| æŒ‡æ¨™    | XBRLã‚¿ã‚°                          | ã‚¹ã‚¯ãƒªãƒ—ãƒˆå¤‰æ•°å |
| ----- | ------------------------------- | ------------ |
| ç·è³‡ç”£   | `jpcrp_cor:Assets`              | totalAssets  |
| ç´”è³‡ç”£   | `jpcrp_cor:NetAssets`           | equity       |
| è‡ªå·±è³‡æœ¬  | `jpcrp_cor:Equity`              | equity (å„ªå…ˆ) |
| æœ‰åˆ©å­è² å‚µ | `jpcrp_cor:InterestBearingDebt` | interestBearingDebt |
| ç¾é‡‘åŠã³é é‡‘ | `jpcrp_cor:CashAndDeposits`    | cashAndDeposits |
| ç™ºè¡Œæ¸ˆæ ªå¼æ•° | `jpcrp_cor:TotalNumberOfIssuedShares` | issuedShares |

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼è¨ˆç®—æ›¸ï¼ˆCFï¼‰é–¢é€£ã‚¿ã‚°

| æŒ‡æ¨™              | XBRLã‚¿ã‚°                                       | ã‚¹ã‚¯ãƒªãƒ—ãƒˆå¤‰æ•°å |
| --------------- | -------------------------------------------- | ------------ |
| å–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ | `jpcrp_cor:CashFlowsFromOperatingActivities` | operatingCashFlow |
| æŠ•è³‡æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ | `jpcrp_cor:CashFlowsFromInvestingActivities` | investingCashFlow |
| è²¡å‹™æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ | `jpcrp_cor:CashFlowsFromFinancingActivities` | financingCashFlow |
| æ¸›ä¾¡å„Ÿå´è²» | `jpcrp_cor:DepreciationAndAmortizationOpeCF` | depreciation |

### ãã®ä»–ã®é‡è¦æŒ‡æ¨™

| æŒ‡æ¨™                  | è¨ˆç®—å¼ | XBRLã‚¿ã‚°/ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ |
| ------------------- | ------ | ------------ |
| EBITDA | å–¶æ¥­åˆ©ç›Š + æ¸›ä¾¡å„Ÿå´è²» | `OperatingIncome` + `DepreciationAndAmortizationOpeCF` |
| ROIC | EBIT Ã· æŠ•ä¸‹è³‡æœ¬ Ã— 100 | `OperatingIncome` Ã· (`Equity` + `InterestBearingDebt`) |
| WACC | (E/V Ã— Re) + (D/V Ã— Rd Ã— (1-T)) | `Equity`, `InterestBearingDebt`, `InterestExpenses`, Re=6%, T=30% |
| æ™‚ä¾¡ç·é¡ | æ ªä¾¡ Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•° | Stooq APIçµ‚å€¤ Ã— `TotalNumberOfIssuedShares` |
| ç´”æœ‰åˆ©å­è² å‚µ | æœ‰åˆ©å­è² å‚µ - ç¾é‡‘åŠã³é é‡‘ | `InterestBearingDebt` - `CashAndDeposits` |
| ä¼æ¥­ä¾¡å€¤ï¼ˆEVï¼‰ | æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µ | ä¸Šè¨˜è¨ˆç®—å€¤ã®åˆè¨ˆ |
| EV/EBITDA | ä¼æ¥­ä¾¡å€¤ Ã· EBITDA | ä¸Šè¨˜è¨ˆç®—å€¤ Ã· EBITDA |

**åå‰ç©ºé–“ã®å‹•çš„æ¤œå‡º**:

`scripts/parse_edinet_xbrl.py`ã§ã¯ã€XBRLãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‹•çš„ã«åå‰ç©ºé–“ã‚’æ¤œå‡ºã—ã¾ã™ã€‚

```python
def detect_namespaces(root: etree.Element) -> Dict[str, str]:
    """XBRLãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‹•çš„ã«åå‰ç©ºé–“ã‚’æ¤œå‡º"""
    namespaces = dict(BASE_NAMESPACES)
    
    for prefix, uri in root.nsmap.items():
        if prefix is None:
            continue
        
        # jppfs_cor, jpcrp_corã®åå‰ç©ºé–“ã‚’æ¤œå‡º
        if 'jppfs' in uri and 'jppfs_cor' in uri:
            namespaces['jppfs'] = uri
        elif 'jpcrp' in uri and 'jpcrp_cor' in uri:
            namespaces['jpcrp'] = uri
    
    return namespaces
```

**ã‚¿ã‚°æ¤œç´¢ã®å„ªå…ˆé †ä½**:

1. `jpcrp_cor` åå‰ç©ºé–“ã‚’å„ªå…ˆæ¤œç´¢
2. æ¬¡ã« `jppfs_cor` åå‰ç©ºé–“ã‚’æ¤œç´¢
3. contextRef ãŒ `Instant` ã¾ãŸã¯ `Duration` ã«ä¸€è‡´ã™ã‚‹è¦ç´ ã‚’é¸æŠ

---

## ä¸»è¦æŒ‡æ¨™ï¼ˆEV/KPIï¼‰è¨ˆç®—å¼ï¼ˆå®Œå…¨ç‰ˆï¼‰

### 1. ä¼æ¥­ä¾¡å€¤ï¼ˆEVï¼‰é–¢é€£æŒ‡æ¨™

#### 1.1 æ™‚ä¾¡ç·é¡ï¼ˆMarket Capitalizationï¼‰
```
æ™‚ä¾¡ç·é¡ = æ ªä¾¡ Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•°
```
- **æ ªä¾¡**: æ±ºç®—æ—¥æ™‚ç‚¹ã®çµ‚å€¤ï¼ˆStooq / pandas_datareaderã‚ˆã‚Šå–å¾—ï¼‰
- **ç™ºè¡Œæ¸ˆæ ªå¼æ•°**: XBRL `issuedShares` ã‹ã‚‰å–å¾—
- **å˜ä½**: ç™¾ä¸‡å††ï¼ˆæ ªä¾¡[å††] Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•° / 1,000,000ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼ˆæ¨å®šå€¤ãªã—ï¼‰

#### 1.2 ç´”æœ‰åˆ©å­è² å‚µï¼ˆNet Debtï¼‰
```
ç´”æœ‰åˆ©å­è² å‚µ = æœ‰åˆ©å­è² å‚µ - ç¾é‡‘åŠã³é é‡‘
```
- **æœ‰åˆ©å­è² å‚µ**: XBRL `interestBearingDebt` ã‹ã‚‰å–å¾—
- **ç¾é‡‘åŠã³é é‡‘**: XBRL `cashAndDeposits` ã‹ã‚‰å–å¾—
- **å˜ä½**: ç™¾ä¸‡å††
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

#### 1.3 ä¼æ¥­ä¾¡å€¤ï¼ˆEnterprise Valueï¼‰
```
ä¼æ¥­ä¾¡å€¤ï¼ˆEVï¼‰ = æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µ
```
- **è¨ˆç®—æ¡ä»¶**: æ™‚ä¾¡ç·é¡ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿è¨ˆç®—ï¼ˆéä¸Šå ´ä¼æ¥­ã¯nullï¼‰
- **å˜ä½**: ç™¾ä¸‡å††
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

#### 1.4 EV/EBITDAå€ç‡
```
EV/EBITDAå€ç‡ = ä¼æ¥­ä¾¡å€¤ / EBITDA
```
- **EBITDA**: XBRL `ebitda` ã‹ã‚‰å–å¾—ï¼ˆå–¶æ¥­åˆ©ç›Š + æ¸›ä¾¡å„Ÿå´è²»ï¼‰
- **è¨ˆç®—æ¡ä»¶**: EBITDA > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: å€
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

#### 1.5 PERï¼ˆæ ªä¾¡åç›Šç‡ï¼‰
```
PER = æ™‚ä¾¡ç·é¡ / å½“æœŸç´”åˆ©ç›Š
```
- **å½“æœŸç´”åˆ©ç›Š**: XBRL `netIncome` ã‹ã‚‰å–å¾—
- **è¨ˆç®—æ¡ä»¶**: å½“æœŸç´”åˆ©ç›Š > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: å€
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

#### 1.6 PBRï¼ˆæ ªä¾¡ç´”è³‡ç”£å€ç‡ï¼‰
```
PBR = æ™‚ä¾¡ç·é¡ / è‡ªå·±è³‡æœ¬
```
- **è‡ªå·±è³‡æœ¬**: XBRL `equity` ã‹ã‚‰å–å¾—
- **è¨ˆç®—æ¡ä»¶**: è‡ªå·±è³‡æœ¬ > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: å€
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

---

### 2. KPIæŒ‡æ¨™ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰

#### 2.1 ROICï¼ˆæŠ•ä¸‹è³‡æœ¬åˆ©ç›Šç‡ï¼‰

**è¨ˆç®—å¼**:
```
ROIC = EBIT / (è‡ªå·±è³‡æœ¬ + æœ‰åˆ©å­è² å‚µ) Ã— 100
```

**æ¥­ç•Œç‰¹æ€§**:
- é›»åŠ›æ¥­ç•Œã¯è¨­å‚™æŠ•è³‡å‹ç”£æ¥­ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ï¼‰ã®ãŸã‚ã€æŠ•ä¸‹è³‡æœ¬åŠ¹ç‡ãŒé‡è¦æŒ‡æ¨™
- ROIC 5%ä»¥ä¸Šã§å„ªè‰¯ã€3%ä»¥ä¸Šã§æ™®é€šã€3%æœªæº€ã§è¦æ”¹å–„
- æ¥­ç•Œå¹³å‡: 7-10%ï¼ˆè¦åˆ¶ç”£æ¥­ã®ãŸã‚é«˜ROICã¯ç¨€ï¼‰

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- **EBIT**: å–¶æ¥­åˆ©ç›Šï¼ˆXBRL `operatingIncome` ã‹ã‚‰å–å¾—ã€æ¸›ä¾¡å„Ÿå´è²»ç­‰ã®åŠ ç®—ä¸è¦ï¼‰
- **è‡ªå·±è³‡æœ¬**: XBRL `equity` ã‹ã‚‰å–å¾—
- **æœ‰åˆ©å­è² å‚µ**: XBRL `interestBearingDebt` ã‹ã‚‰å–å¾—
- **è¨ˆç®—æ¡ä»¶**: (è‡ªå·±è³‡æœ¬ + æœ‰åˆ©å­è² å‚µ) > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: %ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰
- **æ¨å®šå€¤**: âŒ ãªã—ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰

#### 2.2 WACCï¼ˆåŠ é‡å¹³å‡è³‡æœ¬ã‚³ã‚¹ãƒˆï¼‰

**è¨ˆç®—å¼**:
```
WACC = (E/V Ã— Re) + (D/V Ã— Rd Ã— (1-T))

E: è‡ªå·±è³‡æœ¬
D: æœ‰åˆ©å­è² å‚µ
V: E + Dï¼ˆç·è³‡æœ¬ï¼‰
Re: æ ªä¸»è³‡æœ¬ã‚³ã‚¹ãƒˆï¼ˆä»®å®š6%ï¼‰
Rd: è² å‚µã‚³ã‚¹ãƒˆ = æ”¯æ‰•åˆ©æ¯ / æœ‰åˆ©å­è² å‚µ Ã— 100
T: æ³•äººå®ŸåŠ¹ç¨ç‡ï¼ˆä»®å®š30%ï¼‰
```

**æ¥­ç•Œç‰¹æ€§**:
- é›»åŠ›æ¥­ç•Œã¯ä½é‡‘åˆ©ç’°å¢ƒãƒ»å®‰å®šäº‹æ¥­ç‰¹æ€§ã«ã‚ˆã‚Šã€WACC 3-5%ãŒä¸€èˆ¬çš„
- WACC < 4%ã§å„ªè‰¯ã€4-5%ã§æ™®é€šã€5%ä»¥ä¸Šã§è³‡é‡‘èª¿é”ã‚³ã‚¹ãƒˆé«˜
- **ä½ã„ã»ã©è‰¯ã„æŒ‡æ¨™**ï¼ˆé€†è»¢åˆ¤å®šï¼‰
- ROICã¨æ¯”è¼ƒ: ROIC > WACC ãŒä¾¡å€¤å‰µé€ ã®æ¡ä»¶

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- **è‡ªå·±è³‡æœ¬ (E)**: XBRL `equity` ã‹ã‚‰å–å¾—
- **æœ‰åˆ©å­è² å‚µ (D)**: XBRL `interestBearingDebt` ã‹ã‚‰å–å¾—
- **æ”¯æ‰•åˆ©æ¯**: XBRL `interestExpenses` ã‹ã‚‰å–å¾—
- **æ ªä¸»è³‡æœ¬ã‚³ã‚¹ãƒˆ (Re)**: 6.0%ï¼ˆå›ºå®šä»®å®šå€¤ï¼‰
- **æ³•äººå®ŸåŠ¹ç¨ç‡ (T)**: 30.0%ï¼ˆå›ºå®šä»®å®šå€¤ï¼‰
- **è¨ˆç®—æ¡ä»¶**: (è‡ªå·±è³‡æœ¬ + æœ‰åˆ©å­è² å‚µ) > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: %ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰
- **æ¨å®šå€¤**: æ ªä¸»è³‡æœ¬ã‚³ã‚¹ãƒˆ6%ã€ç¨ç‡30%ã®ã¿ä»®å®šå€¤ã€ä»–ã¯å®Ÿãƒ‡ãƒ¼ã‚¿

#### 2.3 EBITDAãƒãƒ¼ã‚¸ãƒ³ï¼ˆå£²ä¸Šé«˜EBITDAç‡ï¼‰

**è¨ˆç®—å¼**:
```
EBITDAãƒãƒ¼ã‚¸ãƒ³ = EBITDA / å£²ä¸Šé«˜ Ã— 100
```

**æ¥­ç•Œç‰¹æ€§**:
- å–¶æ¥­ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰µå‡ºåŠ›ã‚’ç¤ºã™æŒ‡æ¨™
- EBITDAãƒãƒ¼ã‚¸ãƒ³ 15%ä»¥ä¸Šã§é«˜åç›Šã€10%ä»¥ä¸Šã§æ™®é€šã€10%æœªæº€ã§ä½åç›Š
- é›»åŠ›æ¥­ç•Œå¹³å‡: 15-25%ï¼ˆç‡ƒæ–™è²»å¤‰å‹•ã®å½±éŸ¿å¤§ï¼‰

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- **EBITDA**: XBRL `ebitda` ã‹ã‚‰å–å¾—ï¼ˆå–¶æ¥­åˆ©ç›Š + æ¸›ä¾¡å„Ÿå´è²»ï¼‰
- **å£²ä¸Šé«˜**: XBRL `revenue` ã‹ã‚‰å–å¾—
- **è¨ˆç®—æ¡ä»¶**: å£²ä¸Šé«˜ > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: %ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰
- **æ¨å®šå€¤**: âŒ ãªã—ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰

#### 2.4 FCFãƒãƒ¼ã‚¸ãƒ³ï¼ˆãƒ•ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ãƒãƒ¼ã‚¸ãƒ³ï¼‰

**è¨ˆç®—å¼**:
```
FCFãƒãƒ¼ã‚¸ãƒ³ = å–¶æ¥­CF / å£²ä¸Šé«˜ Ã— 100
```

**æ¥­ç•Œç‰¹æ€§**:
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰µå‡ºåŠ¹ç‡ã‚’ç¤ºã™æŒ‡æ¨™
- FCFãƒãƒ¼ã‚¸ãƒ³ 5%ä»¥ä¸Šã§è‰¯å¥½ã€0%ä»¥ä¸Šã§æ™®é€šã€ãƒã‚¤ãƒŠã‚¹ã¯è¦æ³¨æ„
- é›»åŠ›æ¥­ç•Œã¯å¤§è¦æ¨¡è¨­å‚™æŠ•è³‡ã«ã‚ˆã‚Šå–¶æ¥­CFæ¯”ç‡10-15%ãŒæ¨™æº–

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- **å–¶æ¥­CF**: XBRL `operatingCashFlow` ã‹ã‚‰å–å¾—
- **å£²ä¸Šé«˜**: XBRL `revenue` ã‹ã‚‰å–å¾—
- **è¨ˆç®—æ¡ä»¶**: å£²ä¸Šé«˜ > 0 ã®å ´åˆã®ã¿è¨ˆç®—
- **å˜ä½**: %ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰
- **æ¨å®šå€¤**: âŒ ãªã—ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰

---

### 3. ãƒ‡ãƒ¼ã‚¿å–å¾—å…ƒã¨è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

#### 3.1 è²¡å‹™ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒ­ãƒ¼
```
EDINET API â†’ XBRL ZIP â†’ parse_edinet_xbrl.py â†’ *_financials.json
```

#### 3.2 æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒ­ãƒ¼
```
Stooq API (pandas_datareader) â†’ prices/*.csv â†’ build_timeseries.py â†’ timeseries.json
```

#### 3.3 è¨ˆç®—å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
- **`scripts/build_timeseries.py`**: æ™‚ç³»åˆ—KPIè¨ˆç®—ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰
- **`scripts/build_valuation.py`**: ä¼æ¥­ä¾¡å€¤è¨ˆç®—
- **`scripts/compute_scores.py`**: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆä¿¡å·æ©Ÿè©•ä¾¡ã€é›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰

#### 3.4 æ¨å®šå€¤ãƒ»ä»®å®šå€¤ã®æ’é™¤ãƒ«ãƒ¼ãƒ«

**åŸå‰‡**: ã™ã¹ã¦ã®è¨ˆç®—ã¯ **XBRLå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿** ã‚’ä½¿ç”¨ã—ã€æ¨å®šå€¤ã‚„è£œå®Œå€¤ã¯ **ä¸€åˆ‡ä½¿ç”¨ã—ãªã„**ï¼ˆä¾‹å¤–: WACCè¨ˆç®—ã®æ ªä¸»è³‡æœ¬ã‚³ã‚¹ãƒˆ6%ãƒ»ç¨ç‡30%ã®ã¿ä»®å®šå€¤ï¼‰

**å…·ä½“çš„ãªå¯¾å¿œ**:
- ãƒ‡ãƒ¼ã‚¿æ¬ ææ™‚ã¯ `null` ã¾ãŸã¯ `0` ã‚’è¿”ã™ï¼ˆè£œå®Œã—ãªã„ï¼‰
- å–¶æ¥­CFãŒã‚¼ãƒ­ã®å ´åˆã€æ¨å®šã›ãšãã®ã¾ã¾ `0` ã‚’è¨˜éŒ²
- ç™ºè¡Œæ¸ˆæ ªå¼æ•°ãŒå–å¾—ã§ããªã„å ´åˆã€æ™‚ä¾¡ç·é¡ãŠã‚ˆã³ãã‚Œã«ä¾å­˜ã™ã‚‹æŒ‡æ¨™ï¼ˆEVã€PERã€PBRã€EV/EBITDAï¼‰ã¯ `null`
- åˆ†æ¯ãŒã‚¼ãƒ­ã®å ´åˆã€è¨ˆç®—ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ `null` ã¾ãŸã¯ `0` ã‚’è¿”ã™

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ä¸€è¦§ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰**:

| æŒ‡æ¨™ | è¨ˆç®—å¼ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆXBRLé …ç›®ï¼‰ | æ¨å®šå€¤ã®æœ‰ç„¡ |
|------|--------|-------------------------|--------------|
| ROIC | EBIT / (è‡ªå·±è³‡æœ¬ + æœ‰åˆ©å­è² å‚µ) Ã— 100 | PL.csv `operatingIncome` Ã· (BS.csv `equity` + BS.csv `interestBearingDebt`) | âŒ ãªã— |
| WACC | (E/V Ã— Re) + (D/V Ã— Rd Ã— (1-T)) | BS.csv `equity`, `interestBearingDebt`, PL.csv `interestExpenses` | âš ï¸ Re=6%, T=30%ã®ã¿ä»®å®šå€¤ |
| EBITDAãƒãƒ¼ã‚¸ãƒ³ | EBITDA / å£²ä¸Šé«˜ Ã— 100 | PL.csv `ebitda` Ã· PL.csv `revenue` | âŒ ãªã— |
| FCFãƒãƒ¼ã‚¸ãƒ³ | å–¶æ¥­CF / å£²ä¸Šé«˜ Ã— 100 | CF.csv `operatingCashFlow` Ã· PL.csv `revenue` | âŒ ãªã— |
| æ™‚ä¾¡ç·é¡ | æ±ºç®—æ—¥æ ªä¾¡ Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•°ï¼ˆè‡ªå·±æ ªå¼é™¤ãï¼‰ | `data/prices/{è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰}.csv` Ã— BS.csv `NumberOfIssuedAndOutstandingShares` | âŒ ãªã—ï¼ˆæ ªä¾¡ã¯å®Ÿãƒ‡ãƒ¼ã‚¿ã€æ ªå¼æ•°ã¯XBRLå®Ÿãƒ‡ãƒ¼ã‚¿ï¼‰ |
| ç´”æœ‰åˆ©å­è² å‚µ | æœ‰åˆ©å­è² å‚µ - ç¾é‡‘åŠã³ç¾é‡‘åŒç­‰ç‰© | (BS.csv `ShortTermBorrowings` + `LongTermBorrowings` + `BondsPayable` + `LeaseLiabilities`) - BS.csv `CashAndCashEquivalents` | âŒ ãªã— |
| ä¼æ¥­ä¾¡å€¤ï¼ˆEVï¼‰ | æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µ | æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µ | âŒ ãªã— |
| EBITDA | å–¶æ¥­åˆ©ç›Š + æ¸›ä¾¡å„Ÿå´è²» + ç„¡å½¢è³‡ç”£å„Ÿå´è²» | PL.csv `OperatingProfit` + CF.csv `Depreciation` + CF.csv `AmortizationOfIntangibleAssets` | âŒ ãªã— |
| EV/EBITDA | ä¼æ¥­ä¾¡å€¤ / EBITDA | EV Ã· EBITDA | âŒ ãªã— |
| PER | æ™‚ä¾¡ç·é¡ / è¦ªä¼šç¤¾æ ªä¸»å¸°å±å½“æœŸç´”åˆ©ç›Š | æ™‚ä¾¡ç·é¡ Ã· PL.csv `ProfitAttributableToOwnersOfParent` | âŒ ãªã— |
| PBR | æ™‚ä¾¡ç·é¡ / è¦ªä¼šç¤¾æ ªä¸»å¸°å±è‡ªå·±è³‡æœ¬ | æ™‚ä¾¡ç·é¡ Ã· BS.csv `EquityAttributableToOwnersOfParent` | âŒ ãªã— |
| å–¶æ¥­CF | å–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹CF | CF.csv `NetCashProvidedByUsedInOperatingActivities` | âŒ ãªã— |

**è¨ˆç®—å¼ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰**:
- **ROIC** = EBIT / (è‡ªå·±è³‡æœ¬ + æœ‰åˆ©å­è² å‚µ) Ã— 100
- **WACC** = (E/V Ã— Re) + (D/V Ã— Rd Ã— (1-T))ã€Re=6%, T=30%
- **EBITDAãƒãƒ¼ã‚¸ãƒ³** = EBITDA / å£²ä¸Šé«˜ Ã— 100
- **FCFãƒãƒ¼ã‚¸ãƒ³** = å–¶æ¥­CF / å£²ä¸Šé«˜ Ã— 100
- **è‡ªå·±è³‡æœ¬æ¯”ç‡** = (è¦ªä¼šç¤¾æ ªä¸»ã«å¸°å±ã™ã‚‹è‡ªå·±è³‡æœ¬ / ç·è³‡ç”£) Ã— 100
- **DSCR** = å–¶æ¥­CF / (åˆ©æ¯ã®æ”¯æ‰•é¡ + å…ƒæœ¬è¿”æ¸ˆé¡)
- **æ™‚ä¾¡ç·é¡** = èª¿æ•´çµ‚å€¤ï¼ˆæ±ºç®—æ—¥ã¾ãŸã¯ç›´è¿‘å–¶æ¥­æ—¥ï¼‰ Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•°ï¼ˆè‡ªå·±æ ªå¼é™¤ãï¼‰
- **ç´”æœ‰åˆ©å­è² å‚µ** = æœ‰åˆ©å­è² å‚µåˆè¨ˆ - ç¾é‡‘åŠã³ç¾é‡‘åŒç­‰ç‰©
- **ä¼æ¥­ä¾¡å€¤ï¼ˆEVï¼‰** = æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µï¼ˆæ¨å¥¨: + éæ”¯é…æŒåˆ† + å„ªå…ˆæ ªå¼ï¼‰
- **EBITDA** = å–¶æ¥­åˆ©ç›Š + æ¸›ä¾¡å„Ÿå´è²» + ç„¡å½¢è³‡ç”£å„Ÿå´è²»
- **EV/EBITDA** = ä¼æ¥­ä¾¡å€¤ / EBITDAï¼ˆEBITDA > 0 ã‹ã¤ EV â‰  nullï¼‰
- **PER** = æ™‚ä¾¡ç·é¡ / è¦ªä¼šç¤¾æ ªä¸»ã«å¸°å±ã™ã‚‹å½“æœŸç´”åˆ©ç›Šï¼ˆå½“æœŸç´”åˆ©ç›Š > 0 ã‹ã¤ æ™‚ä¾¡ç·é¡ â‰  nullï¼‰
- **PBR** = æ™‚ä¾¡ç·é¡ / è¦ªä¼šç¤¾æ ªä¸»ã«å¸°å±ã™ã‚‹è‡ªå·±è³‡æœ¬ï¼ˆè‡ªå·±è³‡æœ¬ > 0 ã‹ã¤ æ™‚ä¾¡ç·é¡ â‰  nullï¼‰

**ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆé›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰**:

```json
{
  "asOf": "2025-12-15",
  "companies": {
    "TEPCO": {
      "2025": {
        "date": "2025-03-31",
        "roic": 4.22,
        "wacc": 3.83,
        "ebitdaMargin": 10.06,
        "fcfMargin": 10.63,
        "marketCap": 690500,
        "netDebt": 1822500,
        "enterpriseValue": 2513000,
        "evEbitdaRatio": 3.94,
        "per": 2.56,
        "pbr": 0.20
      }
    },
    "CHUBU": {
      "2025": {
        "date": "2025-03-31",
        "roic": 10.03,
        "wacc": 5.17,
        "ebitdaMargin": 17.40,
        "fcfMargin": 11.62,
        "marketCap": 1230200,
        "netDebt": 337200,
        "enterpriseValue": 1567500,
        "evEbitdaRatio": 3.04,
        "per": 2.99,
        "pbr": 0.46
      }
    },
    "JERA": {
      "2025": {
        "date": "2025-03-31",
        "roic": 10.42,
        "wacc": 5.25,
        "ebitdaMargin": 4.84,
        "fcfMargin": 0.0,
        "marketCap": null,
        "netDebt": 231200,
        "enterpriseValue": null,
        "evEbitdaRatio": null,
        "per": null,
        "pbr": null
      }
    }
  }
}
```

### KPIé–¾å€¤å®šç¾©ï¼ˆkpi_targets.jsonã€é›»åŠ›æ¥­ç•Œç‰¹åŒ–ç‰ˆï¼‰

```typescript
interface KPITargets {
  roic: {
    green: number;    // â‰¥5%ï¼ˆé›»åŠ›æ¥­ç•ŒåŸºæº–ï¼‰
    yellow: number;   // â‰¥3%
    min: number;      // 0%
    max: number;      // 10%ï¼ˆæ¥­ç•Œmaxå€¤ï¼‰
    unit: string;     // "%"
    description: string;
  };
  wacc: {
    green: number;    // <4%ï¼ˆä½ã„ã»ã©è‰¯ã„ï¼‰
    yellow: number;   // <5%
    min: number;      // 0%
    max: number;      // 6%ï¼ˆæ¥­ç•Œmaxå€¤ï¼‰
    unit: string;     // "%"
    description: string;
  };
  ebitdaMargin: {
    green: number;    // â‰¥15%
    yellow: number;   // â‰¥10%
    min: number;      // 0%
    max: number;      // 30%ï¼ˆæ¥­ç•Œmaxå€¤ï¼‰
    unit: string;     // "%"
    description: string;
  };
  fcfMargin: {
    green: number;    // â‰¥5%
    yellow: number;   // â‰¥0%
    min: number;      // 0%
    max: number;      // 15%ï¼ˆæ¥­ç•Œmaxå€¤ï¼‰
    unit: string;     // "%"
    description: string;
  };
}
    yellow: number;   // â‰¥5%
  };
  equityRatio: {
    green: number;    // â‰¥30%
    yellow: number;   // â‰¥20%
  };
  dscr: {
    green: number;    // â‰¥1.5
    yellow: number;   // â‰¥1.0
  };
}
```

### å¾“æ¥­å“¡æƒ…å ±ãƒ‡ãƒ¼ã‚¿ï¼ˆemployees.jsonï¼‰

```typescript
interface EmployeeData {
  year: string;                     // å¹´åº¦ï¼ˆä¾‹: "2024"ï¼‰
  company: string;                  // ä¼æ¥­åï¼ˆ"TEPCO" | "CHUBU" | "JERA"ï¼‰
  averageAnnualSalary: number;      // å¹³å‡å¹´é–“çµ¦ä¸ï¼ˆå††ï¼‰- XBRL: jpcrp_cor:AverageAnnualSalaryInformationAboutReportingCompanyInformationAboutEmployees
  averageServiceYears: number;      // å¹³å‡å‹¤ç¶šå¹´æ•°ï¼ˆå¹´ï¼‰- XBRL: jpcrp_cor:AverageLengthOfServiceYearsInformationAboutReportingCompanyInformationAboutEmployees
  averageAge: number;               // å¹³å‡å¹´é½¢ï¼ˆæ­³ï¼‰- XBRL: jpcrp_cor:AverageAgeYearsInformationAboutReportingCompanyInformationAboutEmployees
  employeeCount: number;            // å¾“æ¥­å“¡æ•°ï¼ˆäººï¼‰- XBRL: jpcrp_cor:NumberOfEmployeesInformationAboutReportingCompanyInformationAboutEmployees
}

interface EmployeesData {
  employees: EmployeeData[];        // å…¨å¾“æ¥­å“¡ãƒ‡ãƒ¼ã‚¿é…åˆ—ï¼ˆå…¨å¹´åº¦ãƒ»å…¨ä¼æ¥­ï¼‰
}
```

**XBRLã‚¿ã‚°ãƒãƒƒãƒ”ãƒ³ã‚°**:

| é …ç›® | XBRLã‚¿ã‚° | èª¬æ˜ |
|------|---------|------|
| å¹³å‡å¹´é–“çµ¦ä¸ | `jpcrp_cor:AverageAnnualSalaryInformationAboutReportingCompanyInformationAboutEmployees` | å¹³å‡å¹´é–“çµ¦ä¸ï¼ˆå††ï¼‰ |
| å¹³å‡å‹¤ç¶šå¹´æ•° | `jpcrp_cor:AverageLengthOfServiceYearsInformationAboutReportingCompanyInformationAboutEmployees` | å¹³å‡å‹¤ç¶šå¹´æ•°ï¼ˆå¹´ï¼‰ |
| å¹³å‡å¹´é½¢ | `jpcrp_cor:AverageAgeYearsInformationAboutReportingCompanyInformationAboutEmployees` | å¹³å‡å¹´é½¢ï¼ˆæ­³ï¼‰ |
| å¾“æ¥­å“¡æ•° | `jpcrp_cor:NumberOfEmployeesInformationAboutReportingCompanyInformationAboutEmployees` | å¾“æ¥­å“¡æ•°ï¼ˆäººï¼‰ |

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- EDINET XBRL `å¾“æ¥­å“¡ã®çŠ¶æ³` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰å–å¾—ï¼ˆè©³ç´°ã¯EDINET APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ï¼‰
- å–å¾—å¯èƒ½ãªå…¨å¹´åº¦ãƒ‡ãƒ¼ã‚¿ã‚’åéŒ²ï¼ˆ2021å¹´ï½æœ€æ–°å¹´åº¦ï¼‰
- è£œå®Œå€¤ãƒ»æ¨å®šå€¤ã¯ä½¿ç”¨ã›ãšã€XBRLå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿

**ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿**:

```json
{
  "employees": [
    {
      "year": "2024",
      "company": "TEPCO",
      "averageAnnualSalary": 8120000,
      "averageServiceYears": 19.8,
      "averageAge": 44.2,
      "employeeCount": 40123
    },
    {
      "year": "2023",
      "company": "TEPCO",
      "averageAnnualSalary": 7980000,
      "averageServiceYears": 19.5,
      "averageAge": 43.9,
      "employeeCount": 39856
    }
  ]
}
```

**å¾“æ¥­å“¡æƒ…å ±ãƒšãƒ¼ã‚¸æ©Ÿèƒ½**:
- âœ… **æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«**: æœ€æ–°å¹´åº¦ã®3ç¤¾æ¯”è¼ƒï¼ˆå¹³å‡å¹´é–“çµ¦ä¸ã€å¹³å‡å‹¤ç¶šå¹´æ•°ã€å¹³å‡å¹´é½¢ã€å¾“æ¥­å“¡æ•°ï¼‰
  - å„é …ç›®ã«â—‹ã§å›²ã‚“ã ï¼Ÿãƒãƒ¼ã‚¯ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¿½åŠ 
  - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«XBRLã‚¿ã‚°ã¨èª¬æ˜ã‚’è¡¨ç¤º
  - MetricTooltipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
- âœ… **æ¨ç§»ã‚°ãƒ©ãƒ•**: å„æŒ‡æ¨™ã®å…¨å¹´åº¦æ¨ç§»ï¼ˆEmployeeTrendChart Ã— 4æŒ‡æ¨™ï¼‰
- âœ… **ãƒ‡ãƒ¼ã‚¿ç¯„å›²**: å…¨å¹´åº¦ãƒ‡ãƒ¼ã‚¿å¯¾å¿œï¼ˆ2021å¹´ï½æœ€æ–°å¹´åº¦ï¼‰
- âœ… **UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `EmployeeTable.tsx`, `EmployeeTrendChart.tsx`, `MetricTooltip.tsx`

**Phase 8ã‚¿ã‚¹ã‚¯ï¼ˆT048ï½T054ï¼‰**:
- T048: å¾“æ¥­å“¡æƒ…å ±ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ
- T049: employees.jsonä½œæˆ
- T050: EmployeeTableæ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«å®Ÿè£…
- T051: EmployeeTrendChartæ¨ç§»ã‚°ãƒ©ãƒ•å®Ÿè£…
- T052: å¾“æ¥­å“¡æƒ…å ±ãƒšãƒ¼ã‚¸çµ±åˆ
- T053: E2Eãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆemployee-info.spec.tsï¼‰
- T054: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ï¼ˆREADME.md, å®Œå…¨ä»•æ§˜æ›¸.mdï¼‰

---

## 7. ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆPhase 8è¿½åŠ ç‰ˆï¼‰

### ã‚¿ã‚¹ã‚¯ãƒ•ã‚£ãƒ«ã‚¿

```typescript
type TaskFilter = 'all' | 'active' | 'completed'
```

**å½¢å¼**: `{ãƒšãƒ¼ã‚¸å}-todos`
**ä¾‹**: `TestUser-todos`, `ç”°ä¸­-todos`, `æµœå´-ç§€å¯¿-todos`

**ç”Ÿæˆãƒ«ãƒ¼ãƒ«**:

- ã‚¹ãƒšãƒ¼ã‚¹ã¯ãƒã‚¤ãƒ•ãƒ³ã«å¤‰æ›
- æ—¥æœ¬èªã¯ãã®ã¾ã¾ä¿æŒ
- å°æ–‡å­—ã«çµ±ä¸€

### UserPage

```typescript
interface UserPage {
  /** ãƒšãƒ¼ã‚¸åï¼ˆ1ã€œ50æ–‡å­—ï¼‰ */
  name: string
  
  /** ã‚¢ã‚¤ã‚³ãƒ³çµµæ–‡å­—ï¼ˆ1æ–‡å­—ï¼‰ */
  icon: string
  
  /** ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ‘ã‚¹ï¼ˆä¾‹: "/testuser-todo"ï¼‰ */
  path: string
}
```

**ãƒ‘ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:

- URLå½¢å¼: `/{name}-todo`
- å°æ–‡å­—ã€ãƒã‚¤ãƒ•ãƒ³åŒºåˆ‡ã‚Š
- ä¾‹: `/testuser-todo`, `/tanaka-todo`

---

## ç’°å¢ƒæ§‹ç¯‰æ‰‹é †

### å‰ææ¡ä»¶

- Node.js 20.xä»¥ä¸Š
- npm 10.xä»¥ä¸Š
- Python 3.11ä»¥ä¸Š
- Git
- PowerShell (Windows) ã¾ãŸã¯ bash (Mac/Linux)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³

```powershell
git clone https://github.com/J1921604/ValueScope.git
cd ValueScope
```

### 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**Node.jsä¾å­˜é–¢ä¿‚**:

```powershell
npm install
```

**Pythonä¾å­˜é–¢ä¿‚**:

```powershell
pip install -r scripts/requirements.txt
```

### 3. ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆåˆå›ã®ã¿ï¼‰

EDINETã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€JSONã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```powershell
# 1. EDINET APIã‹ã‚‰XBRLãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆéå»10å¹´åˆ†ï¼‰
py scripts/fetch_edinet.py --years 10

# 2. XBRLè§£æãƒ»JSON/CSVå¤‰æ›
py scripts/parse_edinet_xbrl.py

# 3. ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™è¨ˆç®—
py scripts/build_valuation.py

# 4. KPIã‚¹ã‚³ã‚¢è¨ˆç®—
py scripts/compute_scores.py
```

### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

**æ–¹æ³•A: ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰èµ·å‹•ï¼ˆWindowsï¼‰**

```powershell
.\start.ps1
```

è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™:

1. ä¾å­˜é–¢ä¿‚ç¢ºèªãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆãƒãƒ¼ãƒˆ5173ï¼‰
3. ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•èµ·å‹• (http://localhost:5173/ValueScope/)

**æ–¹æ³•B: æ‰‹å‹•èµ·å‹•**

```powershell
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5173/ValueScope/ ã‚’é–‹ã

### 5. å‹ãƒã‚§ãƒƒã‚¯

```powershell
npx tsc --noEmit
```

**æœŸå¾…çµæœ**: `0ã‚¨ãƒ©ãƒ¼`

### 6. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```powershell
npm run test
```

### 7. ãƒ“ãƒ«ãƒ‰

```powershell
npm run build
```

**å‡ºåŠ›å…ˆ**: `dist/`

### 8. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```powershell
npm run preview
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:4173/ValueScope/ ã‚’é–‹ã

---

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä»•æ§˜

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**React Router v6ä½¿ç”¨**

```typescript
// basenameè¨­å®šï¼ˆGitHub Pageså¯¾å¿œï¼‰
const basename = import.meta.env.MODE === 'production' ? '/ValueScope/' : '/'

// ãƒ«ãƒ¼ãƒˆå®šç¾©
<Routes>
  <Route path="/" element={<App />} />
</Routes>
```

### ãƒšãƒ¼ã‚¸æ§‹æˆ

#### 1. Dashboard (`/`)

**ç›®çš„**: ä¼æ¥­ä¾¡å€¤åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**æ©Ÿèƒ½**:

- ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆValuationTableï¼‰
- KPIã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰ï¼ˆScoreCardï¼‰
- æ¨ç§»ã‚°ãƒ©ãƒ•ï¼ˆTrendChartï¼‰
- æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿åˆ‡ã‚Šæ›¿ãˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. **åˆæœŸãƒ­ãƒ¼ãƒ‰**: `useValuation` ã¨ `useScores` ãƒ•ãƒƒã‚¯ãŒ `public/data/*.json` ã‚’ãƒ•ã‚§ãƒƒãƒ
2. **ãƒ‡ãƒ¼ã‚¿çµåˆ**: å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’çµåˆã—ã€UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™
3. **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**: æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿å¤‰æ›´æ™‚ã«è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

---

## æ©Ÿèƒ½å®Ÿè£…è©³ç´°

### 1. ä¼æ¥­ä¾¡å€¤æŒ‡æ¨™è¨ˆç®—

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/build_timeseries.py`

**è¨ˆç®—å¼ï¼ˆæ¨å®šå€¤ãƒ»ä»®å®šå€¤ãªã—ï¼‰**:

#### ROE (Return on Equity)
```
ROE (%) = (è¦ªä¼šç¤¾æ ªä¸»å¸°å±å½“æœŸç´”åˆ©ç›Š / è‡ªå·±è³‡æœ¬) Ã— 100
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: PL.csv `ProfitLossAttributableToOwnersOfParent` Ã· BS.csv `Equity`
- **å˜ä½**: ç™¾ä¸‡å††

#### è‡ªå·±è³‡æœ¬æ¯”ç‡ (Equity Ratio)
```
è‡ªå·±è³‡æœ¬æ¯”ç‡ (%) = (è‡ªå·±è³‡æœ¬ / ç·è³‡ç”£) Ã— 100
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: BS.csv `Equity` Ã· BS.csv `TotalAssets`
- **å˜ä½**: ç™¾ä¸‡å††

#### DSCR (Debt Service Coverage Ratio)
```
DSCR (å€) = å–¶æ¥­CF / å¹´é–“å‚µå‹™è¿”æ¸ˆé¡
```
- **å–¶æ¥­CFï¼ˆOperating Cash Flowï¼‰**:
  - **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: CF.csv `NetCashProvidedByUsedInOperatingActivities`
  - **å˜ä½**: ç™¾ä¸‡å††
- **å¹´é–“å‚µå‹™è¿”æ¸ˆé¡ï¼ˆAnnual Debt Serviceï¼‰**:
  - 1å¹´å†…è¿”æ¸ˆäºˆå®šã®å›ºå®šè² å‚µ + æ”¯æ‰•åˆ©æ¯
  - **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: BS.csv `CurrentPortionOfNoncurrentLiabilities` + PL.csv `InterestExpenses`
  - **æ³¨æ„**: `CurrentPortionOfNoncurrentLiabilities`ãŒ0ã®å ´åˆã¯æ”¯æ‰•åˆ©æ¯ã®ã¿ã§è¨ˆç®—
  - **å˜ä½**: ç™¾ä¸‡å††
- **ä¸€èˆ¬çš„ãªè©•ä¾¡åŸºæº–**:
  - **DSCR â‰¥ 1.5**: å®‰å…¨ï¼ˆå‚µå‹™è¿”æ¸ˆèƒ½åŠ›ãŒååˆ†ï¼‰
  - **1.0 â‰¤ DSCR < 1.5**: æ³¨æ„ï¼ˆè¿”æ¸ˆå¯èƒ½ã ãŒä½™è£•ã¯å°‘ãªã„ï¼‰
  - **DSCR < 1.0**: å±é™ºï¼ˆå–¶æ¥­CFã§å‚µå‹™è¿”æ¸ˆã§ããªã„ï¼‰
- **é©æ­£ãªæœ€å¤§å€¤**: **3.0å€**ï¼ˆãã‚Œä»¥ä¸Šã¯è¶…å®‰å…¨ã ãŒã€é€šå¸¸ã¯ä¸è¦ï¼‰

#### æ™‚ä¾¡ç·é¡ (Market Capitalization)
```
æ™‚ä¾¡ç·é¡ (ç™¾ä¸‡å††) = æ±ºç®—æ—¥æ ªä¾¡ (å††) Ã— ç™ºè¡Œæ¸ˆæ ªå¼æ•° (æ ª)
```
- **æ ªä¾¡ã‚½ãƒ¼ã‚¹**: `data/prices/{è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰}.csv`ï¼ˆçµ‚å€¤ãƒ™ãƒ¼ã‚¹ï¼‰
- **ç™ºè¡Œæ¸ˆæ ªå¼æ•°ã‚½ãƒ¼ã‚¹**: BS.csv `TotalNumberOfIssuedSharesSummaryOfBusinessResults`
- **æ³¨æ„**: JERAã¯éä¸Šå ´ã®ãŸã‚æ™‚ä¾¡ç·é¡è¨ˆç®—ä¸å¯ï¼ˆnullï¼‰

#### ç´”æœ‰åˆ©å­è² å‚µ (Net Debt)
```
ç´”æœ‰åˆ©å­è² å‚µ (ç™¾ä¸‡å††) = æœ‰åˆ©å­è² å‚µ - ç¾é‡‘åŠã³é é‡‘
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: BS.csv `BondsPayable` + `LongTermLoansPayable` + `ShortTermLoansPayable` - `CashAndDeposits`

#### ä¼æ¥­ä¾¡å€¤ (Enterprise Value)
```
EV (ç™¾ä¸‡å††) = æ™‚ä¾¡ç·é¡ + ç´”æœ‰åˆ©å­è² å‚µ
```
- **æ³¨æ„**: æ™‚ä¾¡ç·é¡ãŒnullã®å ´åˆã€EVã‚‚null

#### EV/EBITDAå€ç‡
```
EV/EBITDA (å€) = ä¼æ¥­ä¾¡å€¤ / EBITDA
```
- **æ¡ä»¶**: EBITDA > 0 ã‹ã¤ EV â‰  null

#### PER (Price Earnings Ratio)
```
PER (å€) = æ™‚ä¾¡ç·é¡ / å½“æœŸç´”åˆ©ç›Š
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: æ™‚ä¾¡ç·é¡ Ã· PL.csv `ProfitLoss`
- **æ¡ä»¶**: å½“æœŸç´”åˆ©ç›Š > 0 ã‹ã¤ æ™‚ä¾¡ç·é¡ â‰  null

#### PBR (Price Book-value Ratio)
```
PBR (å€) = æ™‚ä¾¡ç·é¡ / è‡ªå·±è³‡æœ¬
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: æ™‚ä¾¡ç·é¡ Ã· BS.csv `Equity`
- **æ¡ä»¶**: è‡ªå·±è³‡æœ¬ > 0 ã‹ã¤ æ™‚ä¾¡ç·é¡ â‰  null

#### å–¶æ¥­ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ (Operating Cash Flow)
```
å–¶æ¥­CF (ç™¾ä¸‡å††) = CFè¨ˆç®—æ›¸ã®å–¶æ¥­æ´»å‹•ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼
```
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: CF.csv `NetCashProvidedByUsedInOperatingActivities`
- **æ³¨æ„**: æ¨å®šå€¤ã¯ä½¿ç”¨ã›ãšã€å®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ä½¿ç”¨

**å˜ä½å¤‰æ›**:
- ã™ã¹ã¦ã®é‡‘é¡ãƒ‡ãƒ¼ã‚¿ã¯ã€Œç™¾ä¸‡å††ã€å˜ä½ã§å–å¾—å¾Œã€è¡¨ç¤ºæ™‚ã«ã€Œå„„å††ã€å˜ä½ã¸å¤‰æ›ï¼ˆÃ· 100ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼**:
- åˆ†æ¯ãŒ0ã®å ´åˆã¯è¨ˆç®—ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã€çµæœã‚’nullã¨ã™ã‚‹
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„å ´åˆï¼ˆéä¸Šå ´ãƒ»ãƒ‡ãƒ¼ã‚¿æ¬ æï¼‰ã¯ã€æ™‚ä¾¡ç·é¡ãŠã‚ˆã³ãã‚Œã«ä¾å­˜ã™ã‚‹æŒ‡æ¨™ã‚’nullã¨ã™ã‚‹
- è¨ˆç®—å¼ã«æ¨å®šå€¤ã‚„ä»®å®šå€¤ã¯å«ã¾ãªã„ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã®ã¿ä½¿ç”¨ï¼‰

### 2. KPIã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/compute_scores.py`

**ãƒ­ã‚¸ãƒƒã‚¯**:

- **ROE**: å½“æœŸç´”åˆ©ç›Š Ã· è‡ªå·±è³‡æœ¬ Ã— 100
- **è‡ªå·±è³‡æœ¬æ¯”ç‡**: è‡ªå·±è³‡æœ¬ Ã· ç·è³‡ç”£ Ã— 100
- **DSCR**: å–¶æ¥­CF Ã· (1å¹´å†…è¿”æ¸ˆäºˆå®šã®å›ºå®šè² å‚µ + æ”¯æ‰•åˆ©æ¯)

**è©•ä¾¡**: `data/kpi_targets.json` ã®é–¾å€¤ã«åŸºã¥ã„ã¦ Green/Yellow/Red ã‚’åˆ¤å®š

**KPIã‚²ãƒ¼ã‚¸é©æ­£maxå€¤ã®è¨­å®šæ ¹æ‹ **:

| KPI | é©æ­£maxå€¤ | æ ¹æ‹  | å‚è€ƒåŸºæº– |
|-----|----------|------|----------|
| **ROE** | **20%** | æ—¥æœ¬ä¼æ¥­å¹³å‡5-10%ã€å„ªè‰¯ä¼æ¥­10-15%ã€‚20%ä»¥ä¸Šã¯ãƒã‚¤ãƒªã‚¹ã‚¯ãƒ»ãƒã‚¤ãƒªã‚¿ãƒ¼ãƒ³é ˜åŸŸ | ä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æåŸºæº– |
| **è‡ªå·±è³‡æœ¬æ¯”ç‡** | **70%** | å®‰å…¨æ°´æº–40%ä»¥ä¸Šã€éè£½é€ æ¥­ãƒ»å®‰å®šä¼æ¥­50-60%ã€‚100%ã¯ç†è«–ä¸Šå¯èƒ½ã ãŒç¾å®Ÿçš„ã«ç¨€ | ä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æåŸºæº– |
| **DSCR** | **3.0å€** | 1.0å€ä»¥ä¸Šã§è¿”æ¸ˆå¯èƒ½ã€1.5å€ä»¥ä¸Šã§å®‰å…¨ã€‚3.0å€ä»¥ä¸Šã¯è¶…å®‰å…¨ã ãŒé€šå¸¸ä¸è¦ | ä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æåŸºæº– |

**ç¾åœ¨ã®è¨­å®šå€¤ï¼ˆ2025-12-08æ™‚ç‚¹ï¼‰**:

- ROE: min=0%, max=20%ï¼ˆä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æåŸºæº–ã«æº–æ‹ ï¼‰
- è‡ªå·±è³‡æœ¬æ¯”ç‡: min=0%, max=70%ï¼ˆä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æåŸºæº–ã«æº–æ‹ ï¼‰
- DSCR: min=0, max=20å€ï¼ˆ**æš«å®šè¨­å®šã€è¦ä¿®æ­£**ï¼‰

**DSCRã®å•é¡Œç‚¹ã¨æ”¹å–„æ–¹é‡**:

**ç¾çŠ¶ã®å•é¡Œ**:
1. `currentPortionOfNoncurrentLiabilities`ï¼ˆ1å¹´å†…è¿”æ¸ˆäºˆå®šã®å›ºå®šè² å‚µï¼‰ãŒä¸¡ç¤¾ã¨ã‚‚0.0
2. åˆ†æ¯ãŒæ”¯æ‰•åˆ©æ¯ã®ã¿ã®ãŸã‚ã€å®Ÿéš›ã‚ˆã‚Šé«˜ã„å€¤ã«ãªã£ã¦ã„ã‚‹ï¼ˆTEPCO 11.61å€ã€CHUBU 15.95å€ï¼‰
3. ä¸€èˆ¬çš„ãªåŸºæº–ï¼ˆ1.0-3.0å€ï¼‰ã‹ã‚‰å¤§ããä¹–é›¢

**æ ¹æœ¬åŸå› **:
- XBRLè§£ææ™‚ã«ã€Œ1å¹´å†…è¿”æ¸ˆäºˆå®šã®é•·æœŸå€Ÿå…¥é‡‘ã€ã€Œ1å¹´å†…å„Ÿé‚„äºˆå®šã®ç¤¾å‚µã€ãªã©ã®ã‚¿ã‚°ãŒå–å¾—ã§ãã¦ã„ãªã„
- ã¾ãŸã¯è©²å½“ãƒ‡ãƒ¼ã‚¿ãŒXBRLã«å­˜åœ¨ã—ãªã„å¯èƒ½æ€§

**é©æ­£ãªè¨ˆç®—å¼**:
```
DSCR = å–¶æ¥­CF / (æ”¯æ‰•åˆ©æ¯ + çŸ­æœŸå€Ÿå…¥é‡‘è¿”æ¸ˆé¡ + 1å¹´å†…è¿”æ¸ˆäºˆå®šã®é•·æœŸå€Ÿå…¥é‡‘ + 1å¹´å†…å„Ÿé‚„äºˆå®šã®ç¤¾å‚µ)
```

**æš«å®šå¯¾å¿œ**:
- maxå€¤ã‚’20å€ã«è¨­å®šã—ã€ç¾åœ¨ã®ç•°å¸¸å€¤ã§ã‚‚ã‚²ãƒ¼ã‚¸ãŒ12æ™‚ã‚’è¶…ãˆãªã„ã‚ˆã†ã«ã™ã‚‹
- é–¾å€¤åˆ¤å®šï¼ˆgreen â‰¥1.5å€ã€yellow â‰¥1.0å€ï¼‰ã¯ä¸€èˆ¬çš„ãªåŸºæº–ã‚’ç¶­æŒ

**ä»Šå¾Œã®æ”¹å–„è¨ˆç”»**:
1. XBRLè§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`parse_edinet_xbrl.py`ï¼‰ã§ä»¥ä¸‹ã®ã‚¿ã‚°ã‚’è¿½åŠ å–å¾—:
   - `CurrentPortionOfNoncurrentLiabilities`ï¼ˆ1å¹´å†…è¿”æ¸ˆäºˆå®šã®éæµå‹•è² å‚µï¼‰
   - `ShortTermLoansPayable`ï¼ˆçŸ­æœŸå€Ÿå…¥é‡‘ï¼‰
   - `CurrentPortionOfBonds`ï¼ˆ1å¹´å†…å„Ÿé‚„äºˆå®šç¤¾å‚µï¼‰
2. ãƒ‡ãƒ¼ã‚¿å–å¾—å¾Œã€DSCR maxå€¤ã‚’3.0å€ã«ä¿®æ­£
3. å®Œå…¨ä»•æ§˜æ›¸ã«DSCRè¨ˆç®—ã®è©³ç´°ã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ä»•æ§˜ã‚’æ˜è¨˜

### 3. EDINETãƒ‡ãƒ¼ã‚¿å–å¾—

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/fetch_edinet.py`

**æ©Ÿèƒ½**:

- EDINET API v2 ã‚’ä½¿ç”¨
- æ›¸é¡ä¸€è¦§APIã§æœ‰ä¾¡è¨¼åˆ¸å ±å‘Šæ›¸ã‚’æ¤œç´¢
- æ›¸é¡å–å¾—APIã§XBRL ZIPã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- `--ci` ãƒ•ãƒ©ã‚°: 7æœˆ1æ—¥ä»¥å¤–ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼ˆGitHub Actionsç”¨ï¼‰
- ã‚³ãƒ¼ãƒ‰130ï¼ˆè¨‚æ­£å ±å‘Šæ›¸ï¼‰ã®é™¤å¤–ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…æ¸ˆã¿

### 4. XBRLè§£æ

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/parse_edinet_xbrl.py`

**æ©Ÿèƒ½**:

- `lxml` ã‚’ä½¿ç”¨ã—ã¦XBRLã‚’ãƒ‘ãƒ¼ã‚¹
- `jppfs` (è²¡å‹™è«¸è¡¨) ãŠã‚ˆã³ `jpcrp` (ä¼æ¥­æƒ…å ±) åå‰ç©ºé–“ã«å¯¾å¿œ
- ç™ºè¡Œæ¸ˆæ ªå¼æ•°ã®å–å¾—ãƒ­ã‚¸ãƒƒã‚¯å¼·åŒ–ï¼ˆè¤‡æ•°ã®ã‚¿ã‚°ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¤œç´¢ï¼‰
- JSONãŠã‚ˆã³CSVå½¢å¼ã§å‡ºåŠ›

---

## ãƒ†ã‚¹ãƒˆä»•æ§˜

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: Vitest
- **E2Eãƒ†ã‚¹ãƒˆ**: Playwright

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**å¯¾è±¡**: ãƒ•ãƒƒã‚¯ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

```typescript
// hooks/useScores.test.ts
describe('useScores', () => {
  it('should fetch and return scores', async () => {
    // ...
  })
})
```

### E2Eãƒ†ã‚¹ãƒˆ

**å¯¾è±¡**: ç”»é¢è¡¨ç¤ºã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³

```typescript
// tests/e2e/trend-display.spec.ts
test('Trend chart displays correctly', async ({ page }) => {
  await page.goto('/');
  await expect(page.locator('.recharts-surface')).toBeVisible();
});
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ä»•æ§˜

### GitHub Pagesè¨­å®š

#### 1. Settings â†’ Pages è¨­å®š

1. ãƒªãƒã‚¸ãƒˆãƒªãƒšãƒ¼ã‚¸ã‹ã‚‰ã€ŒSettingsã€ã‚¿ãƒ–ã‚’é–‹ã
2. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ã€ŒPagesã€ã‚’é¸æŠ
3. **Source**: ã€ŒGitHub Actionsã€ã‚’é¸æŠ
4. Save

#### 2. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.github/workflows/deploy-pages.yml`

- **ãƒˆãƒªã‚¬ãƒ¼**: mainãƒ–ãƒ©ãƒ³ãƒã¸ã®push
- **ã‚¸ãƒ§ãƒ–**:
  - `build`: npm ci, npm run build, ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  - `deploy`: GitHub Pagesã¸ãƒ‡ãƒ—ãƒ­ã‚¤
- **ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼**: `public/data/*.json` ã®å­˜åœ¨ã‚’ãƒã‚§ãƒƒã‚¯

### vite.config.tsè¨­å®š

```typescript
export default defineConfig({
  base: '/ValueScope/',
  // ...
})
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: `public/data/*.json` ãŒå­˜åœ¨ã—ãªã„ã‹ã€å½¢å¼ãŒä¸æ­£

**è§£æ±º**:
1. `py scripts/build_valuation.py` ç­‰ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å†ç”Ÿæˆ
2. `public/data/` ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ fetch ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

### å•é¡Œ2: EV/MarketCapãŒç©ºï¼ˆnullï¼‰ã«ãªã‚‹

**åŸå› **: XBRLè§£æã§ç™ºè¡Œæ¸ˆæ ªå¼æ•°ãŒå–å¾—ã§ãã¦ã„ãªã„ï¼ˆ0.0ã«ãªã‚‹ï¼‰

**è§£æ±º**:
1. `scripts/parse_edinet_xbrl.py` ã® `extract_value_from_xbrl` ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¢ºèª
2. `jpcrp` åå‰ç©ºé–“ã‚„ä»£æ›¿ã‚¿ã‚°ï¼ˆ`TotalNumberOfIssuedSharesSummaryOfBusinessResults` ç­‰ï¼‰ãŒæ¤œç´¢å¯¾è±¡ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’å®Ÿè¡Œã—ç›´ã™

### å•é¡Œ3: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**åŸå› **: TypeScriptã®å‹ã‚¨ãƒ©ãƒ¼

**è§£æ±º**: `npx tsc --noEmit` ã§ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’ç‰¹å®šã—ä¿®æ­£

---

## ä»˜éŒ²

### å‚è€ƒãƒªãƒ³ã‚¯

- **æœ¬ç•ªURL**: https://j1921604.github.io/ValueScope/
- **GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/J1921604/ValueScope
